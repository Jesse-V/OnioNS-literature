%Sample usage of usuthesis.cls
\documentclass[cs, msthesis]{usuthesis}

%{{{ Some useful packages, modify as needed
\usepackage{epsfig}
\usepackage{amssymb}           % add ams symbols stuff
\usepackage{caption}		% needed for listing captions
\usepackage{graphicx}          	% add graphics
\usepackage{subfigure}
\usepackage{color}             	% grants control of link text colors.
\usepackage{algorithm2e}
\usepackage{listings}		% code listings
\usepackage{pdflscape}
\usepackage{hyperref}          	% make contents/ref/citations clickable
\usepackage{epstopdf}
\usepackage{color}
\usepackage{enumerate}		% lists of items
\usepackage{url} 			% url in bib
\usepackage{tikz}
\usetikzlibrary{arrows}
\usetikzlibrary{fadings}
%}}}

% for formatting code
\lstset{
	language=C++,						% choose the language of the code
	basicstyle=\footnotesize,			% the size of the fonts that are used for the code
	numbers=left,						% where to put the line-numbers
	numberstyle=\footnotesize,			% the size of the fonts that are used for the line-numbers
	stepnumber=1,						% the step between two line-numbers. If it is 1 each line will be numbered
	firstnumber=100,
	lineskip={5pt},
	aboveskip={2\baselineskip},
	belowskip={0\baselineskip},
	xleftmargin=0mm,					% left margin of listing section
	floatplacement=t,
	numbersep=-15pt,					% how far the line-numbers are from the code
	backgroundcolor=\color{white},		% choose the background color. You must add \usepackage{color}
	showspaces=false,					% show spaces adding particular underscores
	showstringspaces=false,				% underline spaces within strings
	showtabs=false,						% show tabs within strings adding particular underscores
	frame=tb,							% adds a frame around the code
	tabsize=4,							% sets default tabsize to 2 spaces
	captionpos=b,						% sets the caption-position to bottom
	breaklines=true,					% sets automatic line breaking
	breakatwhitespace=false,			% sets if automatic breaks should only happen at whitespace
	numberbychapter=true,
	escapeinside={\%*}{*)}				% if you want to add a comment within your code
}
\lstloadlanguages{
	C++
 }

\intextsep=10mm							% controls spacing before and after figures and tables
\belowcaptionskip=-5mm

%Set all linked content to be plain black text
\hypersetup{
	colorlinks,
	citecolor=black,
	filecolor=black,
	linkcolor=black,
	urlcolor=black
}


% Author and Title Information
\author{Jesse Victors}
\title{EsgalDNS: \\ Namecoin-based Anonymous Domain Name Service \\ for Tor Hidden Services}


% The Committee
\majorprof{Dr. Ming Li}
\firstreader{Dr. Nicholas Flann}
\secondreader{Dr. Daniel Watson}


% Graduate Dean, Update as necessary
\graddean{Dr. Mark R. McLellan} 
\deantitle{Vice President for Research and}
\deansecondtitle{Dean of the School of Graduate Studies}

% Degree Information
\degree{Master of Science}
\month{May}
\year{2014}

\begin{document}

	%{{{ Frontmatter
	\preliminaries   % set frontmatter style

	\maketitle
	\makecopyright        % optional
	






\tikzstyle{block}=[draw, fill=blue!20, minimum size=2em, rounded corners]
%\tikzstyle{path} = [pin edge={to-,thin,red}]

%\begin{tikzpicture}[node distance=2.5cm,auto,>=latex']
%    \node [block, pin={[-]above:$11$}] (day1block11) {1};
%    \node [block, pin={[-]above:$3$}] (day1block3) [right of=day1block11] {1};
%    \path [-] (day1block11) edge node {} (day1block3);
%\end{tikzpicture}


%% 16-node network, two-by-three scroll, day 2
%\begin{tikzpicture}[node distance=3cm,auto,>=latex']
%	% day 1's committee
%    \node [block, pin={[-]above:$11$}] (day2block11) {$\textrm{capture}_{1}$};
%    \node [block, pin={[-]below:$3$}] (day2block3) [below of=day2block11] {$\textrm{capture}_{1}$};
%    
%    % day 2's committee
%    \node [block, pin={[-]above:$7$}] (day2block7) [right of=day2block11] {$\textrm{capture}_{2}$};
%    \node [block, pin={[-]below:$16$}] (day2block16) [below of=day2block7] {$\textrm{capture}_{2}$};
%    
%    \path [-] (day2block11) edge node {} (day2block3); % show day 2 committee
%    \path [-] (day2block7) edge node {} (day2block16); % show day 1 committee
%    
%    \path [->] (day2block7) edge node {} (day2block3);
%    \path [->] (day2block7) edge node {} (day2block11);
%    \path [->] (day2block16) edge node {} (day2block3);
%    \path [->] (day2block16) edge node {} (day2block11);
%\end{tikzpicture}

%% 16-node network, two-by-three scroll, day 3
%\begin{tikzpicture}[node distance=3cm,auto,>=latex']
%	% day 1's committee
%    \node [block, pin={[-]above:$11$}] (day3C1block11) {$\textrm{capture}_{1}$};
%    \node [block, pin={[-]below:$3$}] (day3C1block3) [below of=day3C1block11] {$\textrm{capture}_{1}$};
%    \path [-] (day3C1block11) edge node {} (day3C1block3); % show day 1 committee
%    
%    % day 2's committee
%    \node [block, pin={[-]above:$7$}] (day3C2block7) [right of=day3C1block11] {$\textrm{capture}_{2}$};
%    \node [block, pin={[-]below:$16$}] (day3C2block16) [below of=day3C2block7] {$\textrm{capture}_{2}$};
%    \path [-] (day3C2block7) edge node {} (day3C2block16); % show day 2 committee
%    
%     % day 3's committee
%    \node [block, pin={[-]above:$9$}] (day3C3block9) [right of=day3C2block7] {$\textrm{capture}_{3}$};
%    \node [block, pin={[-]below:$3$}] (day3C3block3) [below of=day3C3block9] {$\textrm{capture}_{3}$};
%    \path [-] (day3C3block9) edge node {} (day3C3block3); % show day 3 committee
%    
%    \path [->] (day3C3block9) edge node {} (day3C2block7);
%    \path [->] (day3C3block9) edge node {} (day3C2block16);
%    \path [->] (day3C3block3) edge node {} (day3C2block7);
%    \path [->] (day3C3block3) edge node {} (day3C2block16);

%    \path [->] (day3C2block7) edge node {} (day3C1block11);
%    \path [->] (day3C2block7) edge node {} (day3C1block3);
%    \path [->] (day3C2block16) edge node {} (day3C1block11);
%    \path [->] (day3C2block16) edge node {} (day3C1block3);
%\end{tikzpicture}



% https://tex.stackexchange.com/questions/134283/tikz-shading-a-path-without-any-filling
\begin{tikzfadingfrompicture}[name=custom fade]
	\path (0,0) rectangle (1.75cm, -1.75cm);
	\pgfinterruptboundingbox
		\path [->, transparent!20, thick] (1.75, 0) edge node {} (0, -1.75);
	\endpgfinterruptboundingbox
\end{tikzfadingfrompicture}

\begin{tikzpicture}
	\draw[path fading=custom fade, top color=red!80, bottom color=blue!80] (0,0) rectangle (8cm,-8cm);
\end{tikzpicture}


% 16-node network, two-by-three scroll, day 4
%\begin{tikzpicture}[node distance=3cm,auto,>=latex',pin distance=4mm]
%	% day 2's committee
%    \node [block, fill=red!20, label=above:$7$] (day4C1block7) {$\textrm{capture}_{2}$};
%    \node [block, fill=red!20, label=below:$16$, draw] (day4C1block16) [below of=day4C1block7] {$\textrm{capture}_{2}$};
%    \path [solid, very thick, red] (day4C1block7) edge node {$\textrm{com}_{2}$} (day4C1block16);
%    
%    % \node [block, fill=green!20] (herp) [below of=day4C1block16, pin=above:12,pin=below:6] {derp};
%
%    
%    % day 3's committee
%    \node [block, fill=orange!20, label=above:$9$] (day4C2block9) [right of=day4C1block7] {$\textrm{capture}_{3}$};
%    \node [block, fill=orange!20, label=below:$3$] (day4C2block3) [below of=day4C2block9] {$\textrm{capture}_{3}$};
%    \path [dashed, very thick, orange] (day4C2block9) edge node {$\textrm{com}_{3}$} (day4C2block3);
%    
%     % day 4's committee
%    \node [block, fill=blue!20, label=above:$1$] (day4C3block1) [right of=day4C2block9] {$\frac{\textrm{capture}_{1}}{\textrm{capture}_{4}}$};
%    \node [block, fill=blue!20, label=below:$12$] (day4C3block12) [below of=day4C3block1] {$\frac{\textrm{capture}_{4}}{\textrm{capture}_{1}}$};
%    \path [dashed, very thick, blue] (day4C3block1) edge node {$\textrm{com}_{4}$} (day4C3block12);
%    
%    \path [->, thick] (day4C2block9) edge node {} (day4C1block7);
%    \path [->, thick] (day4C2block9) edge node {} (day4C1block16);
%    \path [->, thick] (day4C2block3) edge node {} (day4C1block7);
%    \path [->, thick] (day4C2block3) edge node {} (day4C1block16);
%    
%    \path [->, thick] (day4C3block1) edge node {} (day4C2block9);
%    \path [->, thick] (day4C3block1) edge node {} (day4C2block3);
%    \path [->, thick] (day4C3block12) edge node {} (day4C2block9);
%    \path [->, thick] (day4C3block12) edge node {} (day4C2block3);
%    
%    %\draw[style=help lines] (0,-2) grid[step=1cm] (2,0);
%	%\draw[path fading=custom fade,
%    %  top color=blue!80,
%    %  bottom color=green!80,
%    % ] (0,0) rectangle (1cm,-2cm);
%    
%    % thanks to https://tex.stackexchange.com/questions/33607/easy-curves-in-tikz and elsewhere
%    \draw [->] (day4C1block7) to[out=32,in=150] (day4C3block1);
%    \draw [->] (day4C1block7) to[out=200,in=135] (-0.75,-3.75) to[out=315,in=225] (day4C3block12);
%    \draw [->, thick] (day4C1block16) to[out=160,in=225] (-0.75,0.75) to[out=45,in=135] (day4C3block1);  %to[out=45,in=115] (1,1) to[out=160,in=135] (day4C3block1);
%    \draw [->] (day4C1block16) to[out=328,in=210] (day4C3block12);
%    
%\end{tikzpicture}








%\begin{tikzpicture}[node distance=2.5cm,auto,>=latex']
%    \node [int, pin={[init]above:$v_0$}] (a) {1};
%    \node (b) [left of=a,node distance=2cm, coordinate] {a};
%    \node [int, pin={[init]above:$p_0$}] (c) [right of=a] {2};
%    \node [coordinate] (end) [right of=c, node distance=2cm]{};
    
   
%    \path[->] (a) edge node {$v$} (c);
%\end{tikzpicture}






  %[scale=.8,auto=left,every node/.style={circle,fill=blue!20}]
  %\node (n6) at (1,10) {6};
  %\node (n4) at (4,8)  {4};
  %\node (n5) at (8,9)  {5};
  %\node (n1) at (11,8) {1};
  %\node (n2) at (9,6)  {2};
  %\node (n3) at (5,5)  {3};
  %\foreach \from/\to in {n6/n4,n4/n5,n5/n1,n1/n2,n2/n5,n2/n3,n3/n4}
  %  \draw (\from) -- (\to);
  
  
  
  



	\include{doc/abstract}
	\include{doc/pubAbstract}
	
	
	%\include{doc/dedication}  % optional
	%\include{doc/acknowledgements}     % optional

	\tableofcontents
	\listoftables
	\listoffigures

	%    \include{doc/notation}  % optional
	%    \include{doc/acronyms}  % optional
	%}}}
	%{{{ The main body of the thesis
	\body  % set main body style

	% Chapters
	\include{doc/introduction}
	\include{doc/background}
	\include{doc/discussion}
	\include{doc/proposal}
	\include{doc/implementation}
	\include{doc/experiments}
	\include{doc/results}
	\include{doc/conclusions}

	% Endmatter
	% For BibTeX references: specify a .bib file and a style
	% ECE dept. use USU-IEEEtran \references{sample}{USU-IEEEtran}
	% MAE dept. use aiaa or asme \references{sample}{aiaa} or
	% \references{sample}{asme}
	% CS dept. use \references{sample}{IEEEtran.bst}
	\references{thesis}{IEEEtran.bst}

	%\include{appendix} % optional
	%\include{vita}     % optional
	%}}}
\end{document}
